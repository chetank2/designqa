[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
# Railway will automatically use the last stage (production) as the final image

[deploy]
startCommand = "npm start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[variables]
# Skip Chromium download during build (Chromium will be installed at runtime if needed)
PUPPETEER_SKIP_CHROMIUM_DOWNLOAD = "true"
# Disable local MCP health checks in production (Railway doesn't have Figma Desktop)
ENABLE_LOCAL_MCP = "false"
